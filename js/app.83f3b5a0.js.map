{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/images/flyingEnemy.png","webpack:///./src/images/standingEnemy.png","webpack:///./src/images/walkingEnemy.png","webpack:///./src/images/smoke.png","webpack:///./src/images/sky.png","webpack:///./src/images/city.png","webpack:///./src/images/player.png","webpack:///./src/images/platform.png","webpack:///./src/images/gun.png","webpack:///./src/images/bullet.png","webpack:///./src/scripts/common/resourcesLoader.js","webpack:///./src/scripts/common/SpriteAnimation.js","webpack:///./src/scripts/common/keyWatcher.js","webpack:///./src/scripts/common/mouseWatcher.js","webpack:///./src/scripts/common/config.js","webpack:///./src/scripts/entities/Entity.js","webpack:///./src/scripts/entities/Player.js","webpack:///./src/scripts/entities/Bullet.js","webpack:///./src/scripts/entities/Platform.js","webpack:///./src/scripts/common/commonFunctions.js","webpack:///./src/scripts/common/CanvasBackground.js","webpack:///./src/scripts/entities/Enemy.js","webpack:///./src/scripts/entities/EnemyFactory.js","webpack:///./src/scripts/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","readyCallback","resultImages","addImg","url","img","Image","onload","isReady","src","k","add","inputImages","onReady","func","SpriteSheet","image","frameWidth","frameHeight","this","framesPerRow","Math","floor","width","SpriteAnimation","height","animationSpeed","speed","scale","frameSequence","quantity","getDefaultFrameSequence","spritesheet","currentFrame","nextFrame","animSpeed","abs","getFrame","frameIndex","row","col","sx","sy","sWidth","sHeight","dWidth","dHeight","pressedKeys","KEY_CODES","32","37","38","39","40","setKey","event","status","keyCode","String","fromCharCode","addEventListener","document","e","posX","posY","isClick","toUpperCase","canvas","getElementById","setClick","onmousemove","offsetX","offsetY","config","playerJumpCount","playerAnimationSpeed","playerMovingSpeed","playerHeight","playerWidth","bulletWidth","bulletHeight","bulletSpeed","shotInterval","enemyAppearanceInterval","enemyInParadiseSpeed","gravity","gameAcceleration","platformSpeed","platformWidth","platformHeight","skyBackgoundSpeed","smokeBackgoundSpeed","cityBackgoundSpeed","standingEnemyHeight","standingEnemyWidth","standingEnemySpeed","flyingEnemyHeight","flyingEnemyWidth","flyingEnemySpeed","flyingEnemyAnimationSpeed","walkingEnemyWidth","walkingEnemyHeight","walkingEnemySpeed","walkingEnemyAnimationSpeed","Entity","x","y","dx","dy","constructor","Error","move","getMinDistance","entity","distSquared","part","max","vectorFirst","vectorSecond","minDist","Infinity","percent","min","sqrt","Player","maxX","gunImg","args","playerSpeed","runAnimation","jumpAnimation","fallAnimation","isJump","animation","_jumpCounter","_jumpDy","gun","angle","updateGun","atan2","mouseWatcher","getPosY","getPosX","update","keyWatcher","getSprite","getGunSprite","Bullet","arguments","Platform","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","randomInteger","rand","random","CanvasBackground","bgWidth","createElement","ctx","getContext","clearRect","drawImage","Enemy","spriteObj","EnemyFactory","bottomLine","canvasWidth","resourcesLoader","flyingEnemy","standingEnemy","walkingEnemy","makeWalkingEnemy","makeStandingEnemy","makeFlyingEnemy","last","now","scoreEl","maxScoreEl","gameOverEl","canvasHeight","backgrounds","player","enemyFactory","bullets","platforms","enemies","dt","lastScore","score","maxScore","isPause","isGameOver","lastShot","lastEnemyAppearance","defaultSpeed","engine","performance","renderEntity","renderEntities","textContent","render","finishGame","classList","toggle","updateEnemies","cos","sin","updateBullets","updatePlatforms","checkCollision","entities","undefined","save","translate","rotate","restore","reset","createPlatforms","smoke","sky","city","playerImg","platform","bullet","lsValue","localStorage","getItem","documentElement","clientWidth","clientHeight","onbeforeunload","setItem","onclick","close","target","blur"],"mappings":"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","file":"js/app.83f3b5a0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([86,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"build/src/images/flyingEnemy.png\";","module.exports = __webpack_public_path__ + \"build/src/images/standingEnemy.png\";","module.exports = __webpack_public_path__ + \"build/src/images/walkingEnemy.png\";","module.exports = __webpack_public_path__ + \"build/src/images/smoke.png\";","module.exports = __webpack_public_path__ + \"build/src/images/sky.png\";","module.exports = __webpack_public_path__ + \"build/src/images/city.png\";","module.exports = __webpack_public_path__ + \"build/src/images/player.png\";","module.exports = __webpack_public_path__ + \"build/src/images/platform.png\";","module.exports = __webpack_public_path__ + \"build/src/images/gun.png\";","module.exports = __webpack_public_path__ + \"build/src/images/bullet.png\";","let resultImages = {},\r\n    readyCallback;\r\n\r\nfunction addImgs(inputImages) {\r\n    for (let name in inputImages) {\r\n        if (inputImages.hasOwnProperty(name)) {\r\n            addImg(name, inputImages[name]);\r\n        }\r\n    }\r\n}\r\n\r\nfunction addImg(key, url) {\r\n    if (resultImages[key]) {\r\n        return resultImages[key];\r\n    }\r\n\r\n    const img = new Image();\r\n    img.onload = function () {\r\n        resultImages[key] = img;\r\n        if (isReady()) {\r\n            if (typeof readyCallback === \"function\") {\r\n                readyCallback();\r\n            }\r\n        }\r\n    };\r\n    resultImages[key] = false;\r\n    img.src = url;\r\n}\r\n\r\nfunction get(key) {\r\n    return resultImages[key];\r\n}\r\n\r\nfunction isReady() {\r\n    for (let k in resultImages) {\r\n        if (resultImages.hasOwnProperty(k) && !resultImages[k]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction onReady(func) {\r\n    readyCallback = func;\r\n}\r\n\r\nexport default {\r\n    add: addImgs,\r\n    get: get,\r\n    onReady: onReady,\r\n    isReady: isReady\r\n};\r\n","function SpriteSheet(image, frameWidth, frameHeight) {\r\n  this.image = image;\r\n  this.frameWidth = frameWidth;\r\n  this.frameHeight = frameHeight;\r\n  this.framesPerRow = Math.floor(this.image.width / this.frameWidth);\r\n}\r\n\r\nfunction getDefaultFrameSequence(image, frameWidth, frameHeight) {\r\n  let quantity = Math.floor(image.width / frameWidth) * Math.floor(image.height / frameHeight);\r\n  let frameSequence = [];\r\n  for (var i = 0; i < quantity; i++) {\r\n    frameSequence.push(i);\r\n  }\r\n\r\n  return frameSequence;\r\n}\r\n\r\nfunction SpriteAnimation({\r\n  image,\r\n  width,\r\n  height,\r\n  animationSpeed: speed = 1,\r\n  scale = 1,\r\n  frameSequence = getDefaultFrameSequence(image, width, height)\r\n}) {\r\n  const spritesheet = new SpriteSheet(image, width, height);\r\n  let currentFrame = 0;\r\n\r\n  this.nextFrame = (animSpeed = speed) => {\r\n    if(animSpeed < 0) {\r\n      currentFrame = (Math.abs(currentFrame + animSpeed));\r\n      currentFrame = currentFrame > 1? currentFrame : frameSequence.length - 1;\r\n      return;\r\n    }\r\n    currentFrame = (currentFrame + animSpeed) % frameSequence.length;\r\n  };\r\n\r\n  this.getFrame = () => {\r\n    const frameIndex = Math.floor(currentFrame);\r\n    const row = Math.floor(frameSequence[frameIndex] / spritesheet.framesPerRow);\r\n    const col = Math.floor(frameSequence[frameIndex] % spritesheet.framesPerRow);\r\n\r\n    return ({\r\n      image: image,\r\n      sx: col * spritesheet.frameWidth,\r\n      sy: row * spritesheet.frameHeight,\r\n      sWidth: spritesheet.frameWidth,\r\n      sHeight: spritesheet.frameHeight,\r\n      dWidth: spritesheet.frameWidth * scale,\r\n      dHeight: spritesheet.frameHeight * scale\r\n    });\r\n  };\r\n}\r\n\r\nexport default SpriteAnimation;","let pressedKeys = {};\r\nconst KEY_CODES = {\r\n    32: \"SPACE\",\r\n    37: \"LEFT\",\r\n    38: \"UP\",\r\n    39: \"RIGHT\",\r\n    40: \"DOWN\"\r\n};\r\n\r\nwindow.addEventListener('blur', function () {\r\n    pressedKeys = {};\r\n});\r\n\r\nfunction setKey(event, status) {\r\n    let key = event.keyCode;\r\n\r\n    pressedKeys[KEY_CODES[key]||String.fromCharCode(key)] = status;\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n    setKey(e, true);\r\n});\r\n\r\ndocument.addEventListener('keyup', function (e) {\r\n    setKey(e, false);\r\n});\r\n\r\nexport default {\r\n    isDown: function (key) {\r\n        return pressedKeys[key.toUpperCase()];\r\n    }\r\n};\r\n","let posX;\r\nlet posY;\r\nlet isClick;\r\nconst canvas = document.getElementById('canvas');\r\n\r\ndocument.addEventListener('mousedown', function(e) {\r\n    setClick(e, true);\r\n});\r\n\r\ndocument.addEventListener('mouseup', function(e) {\r\n    setClick(e, false);\r\n});\r\n\r\ncanvas.onmousemove = function(e) {\r\n    posX = e.offsetX;\r\n    posY = e.offsetY;\r\n}\r\n\r\nfunction setClick(event, status) {\r\n    isClick = status;\r\n}\r\n\r\nexport default {\r\n    get getPosX() {\r\n        return posX;\r\n    },\r\n    get getPosY() {\r\n        return posY;\r\n    },\r\n    get isClick() {\r\n        return isClick;\r\n    },\r\n};\r\n","const config = {\r\n    playerJumpCount : 15,\r\n    playerAnimationSpeed : 0.4,\r\n    playerMovingSpeed: 6,\r\n    playerHeight: 100,\r\n    playerWidth: 73,\r\n\r\n    bulletWidth: 7,\r\n    bulletHeight: 6,\r\n    bulletSpeed: 40,\r\n    shotInterval: 500,\r\n    \r\n    enemyAppearanceInterval: 2000,\r\n    enemyInParadiseSpeed: 50,\r\n\r\n    gravity: 1,\r\n    speed: 1,\r\n    gameAcceleration: 0.002,\r\n    \r\n    platformSpeed: 2,\r\n    platformWidth: 100,\r\n    platformHeight: 100,\r\n\r\n    skyBackgoundSpeed: 0.5,\r\n    smokeBackgoundSpeed: 0.8,\r\n    cityBackgoundSpeed: 0.3,\r\n\r\n    standingEnemyHeight: 53,\r\n    standingEnemyWidth: 50,\r\n    standingEnemySpeed: 2,\r\n\r\n    flyingEnemyHeight: 35,\r\n    flyingEnemyWidth: 120,\r\n    flyingEnemySpeed: 6,\r\n    flyingEnemyAnimationSpeed: 0.2,\r\n\r\n    walkingEnemyWidth: 73,\r\n    walkingEnemyHeight: 100,\r\n    walkingEnemySpeed: 4,\r\n    walkingEnemyAnimationSpeed: 0.3,\r\n};\r\n\r\nexport default config;\r\n","import config from '../common/config';\r\n\r\nfunction Entity(img, x = 0, y = 0, dx = 0, dy = 0) {\r\n    if (this.constructor === Entity) {\r\n        throw new Error(`${this.constructor.name}: can not create instance of abstract class`);\r\n    }\r\n    this.image = img;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.dx = dx;\r\n    this.dy = dy;\r\n}\r\n\r\nEntity.prototype.move = function () {\r\n    this.x += this.dx * config.speed;\r\n    this.y += this.dy * config.speed;\r\n};\r\n\r\nEntity.prototype.getMinDistance = function (entity) {\r\n    const max = Math.max(Math.abs(this.dx), Math.abs(this.dy),\r\n        Math.abs(entity.dx), Math.abs(entity.dy));\r\n    const part = 1 / max;\r\n    const vectorFirst = {};\r\n    const vectorSecond = {};\r\n    let minDist = Infinity;\r\n    let x;\r\n    let y;\r\n    let distSquared;\r\n    vectorFirst.x = this.x + this.width / 2;\r\n    vectorFirst.y = this.y + this.height / 2;\r\n    vectorSecond.x = entity.x + entity.width / 2;\r\n    vectorSecond.y = entity.y + entity.height / 2;\r\n    for (let percent = 0; percent < 1; percent += part) {\r\n        x = (vectorFirst.x + this.dx * percent) - (vectorSecond.x + entity.dx * percent);\r\n        y = (vectorFirst.y + this.dy * percent) - (vectorSecond.y + entity.dy * percent);\r\n        distSquared = x * x + y * y;\r\n        minDist = Math.min(minDist, distSquared);\r\n    }\r\n\r\n    return Math.sqrt(minDist);\r\n};\r\n\r\nexport default Entity;\r\n","import SpriteAnimation from '../common/SpriteAnimation';\r\nimport keyWatcher from '../common/keyWatcher';\r\nimport mouseWatcher from '../common/mouseWatcher';\r\nimport Entity from './Entity';\r\nimport config from '../common/config';\r\n\r\nconst gunOffsetY = 3;\r\n\r\nfunction Player(maxX, gunImg, ...args) {\r\n    Entity.apply(this, args);\r\n    this.width = config.playerWidth;\r\n    this.height = config.playerHeight;\r\n    this.speed = config.speed * config.playerSpeed;\r\n    this.animationSpeed = config.playerAnimationSpeed * config.speed;\r\n    this.runAnimation = new SpriteAnimation(this);\r\n    this.jumpAnimation = new SpriteAnimation({...this, ...{frameSequence: [6]}});\r\n    this.fallAnimation = new SpriteAnimation({...this, ...{frameSequence: [7]}});\r\n    this.gravity = config.gravity;\r\n    this.isJump = false;\r\n    this.animation = this.runAnimation;\r\n    this._jumpCounter = 0;\r\n    this._jumpDy = - (config.playerJumpCount + this.gravity);\r\n    this.gunImg = gunImg;\r\n    this.maxX = maxX;\r\n    this.gun = {\r\n        angle: 0, \r\n        width: gunImg.width, \r\n        height: gunImg.height,\r\n        x: this.x + this.width - gunImg.width,\r\n        y: this.y + gunImg.height + gunOffsetY,\r\n    };\r\n}\r\n\r\nfunction getGunSprite() {\r\n    const spriteObj = {\r\n        angle: this.gun.angle,\r\n        dx: this.gun.x,\r\n        dy: this.gun.y,\r\n        image: this.gunImg,\r\n        dWidth: this.gun.width,\r\n        dHeight: this.gun.height,\r\n    };\r\n    return spriteObj;\r\n}\r\n\r\nfunction getSprite() {\r\n    const spriteObj = {\r\n        dx: this.x,\r\n        dy: this.y,\r\n        image: this.image,\r\n    };\r\n    return {...spriteObj, ...this.animation.getFrame()};\r\n}\r\n\r\nfunction move() {\r\n    this.x += this.dx * config.speed / 3;\r\n    this.y += this.dy;\r\n};\r\n\r\nfunction update() {\r\n    this.dx = 0;\r\n    this.animationSpeed = config.playerAnimationSpeed * config.speed / 3;\r\n    if (keyWatcher.isDown('D') && this.x < this.maxX - this.width) {\r\n        this.dx = config.playerMovingSpeed;\r\n        this.animationSpeed = this.animationSpeed * 3;\r\n    }\r\n    if (keyWatcher.isDown('A') && this.x > 0) {\r\n        this.dx = -config.playerMovingSpeed;\r\n        this.animationSpeed = -this.animationSpeed;\r\n    }\r\n    if (keyWatcher.isDown('SPACE') && this.dy === 0 && !this.isJump) {\r\n        this.isJump = true;\r\n        this.dy = this._jumpDy;\r\n        this._jumpCounter = config.playerJumpCount;\r\n    }\r\n    if (keyWatcher.isDown('SPACE') && this._jumpCounter) {\r\n        this.dy = this._jumpDy;\r\n    }\r\n\r\n    this._jumpCounter = Math.max(this._jumpCounter - 1, 0);\r\n    this.move();\r\n\r\n    if (this.isJump) {\r\n        this.dy += this.gravity;\r\n    }\r\n\r\n    if (this.dy > 0) {\r\n        this.animation = this.fallAnimation;\r\n    } else if (this.dy < 0) {\r\n        this.animation = this.jumpAnimation;\r\n    } else {\r\n        this.animation = this.runAnimation;\r\n    }\r\n\r\n    updateGun.call(this);\r\n    this.animation.nextFrame(this.animationSpeed);\r\n}\r\n\r\nfunction updateGun () {\r\n    this.gun.x = this.x + this.width - this.gunImg.width;\r\n    this.gun.y = this.y + this.gunImg.height + gunOffsetY;\r\n    let x = this.gun.x + this.gun.width / 2;\r\n    let y = this.gun.y + this.gun.height / 2;\r\n\r\n    this.gun.angle = Math.atan2(mouseWatcher.getPosY - y, mouseWatcher.getPosX - x);\r\n}\r\n\r\nPlayer.prototype = Object.create(Entity.prototype);\r\nPlayer.prototype.constructor = Player;\r\n\r\nPlayer.prototype.move = move;\r\nPlayer.prototype.update = update;\r\nPlayer.prototype.getSprite = getSprite;\r\nPlayer.prototype.getGunSprite = getGunSprite;\r\n\r\nexport default Player;\r\n","import Entity from './Entity';\r\nimport config from '../common/config';\r\n\r\nfunction Bullet(img, x = 0, y = 0, dx = config.bulletSpeed, dy = config.bulletSpeed, angle) {\r\n    Entity.apply(this, arguments);\r\n    this.width = config.bulletWidth;\r\n    this.height = config.bulletHeight;\r\n    this.angle = angle;\r\n}\r\n\r\nfunction getSprite() {\r\n    return {\r\n        image: this.image,\r\n        dx: this.x,\r\n        dy: this.y,\r\n        angle: this.angle,\r\n    };\r\n}\r\n\r\nfunction update() {\r\n    this.x += this.dx;\r\n    this.y += this.dy;\r\n}\r\n\r\nBullet.prototype = Object.create(Entity.prototype);\r\nBullet.prototype.constructor = Bullet;\r\n\r\nBullet.prototype.getSprite = getSprite;\r\nBullet.prototype.update = update;\r\n\r\nexport default Bullet;\r\n","import Entity from './Entity';\r\nimport config from '../common/config';\r\n\r\nfunction Platform(img, x = 0, y = 0, dx = 0, dy = 0) {\r\n    Entity.apply(this, arguments);\r\n    this.width = config.platformWidth;\r\n    this.height = config.platformHeight;\r\n    this.dx = -config.platformSpeed;\r\n}\r\n\r\nfunction getSprite() {\r\n    return {\r\n        image: this.image,\r\n        dx: this.x,\r\n        dy: this.y,\r\n    };\r\n}\r\n\r\nfunction update() {\r\n    this.move();\r\n}\r\n\r\nPlatform.prototype = Object.create(Entity.prototype);\r\nPlatform.prototype.constructor = Platform;\r\nPlatform.prototype.getSprite = getSprite;\r\nPlatform.prototype.update = update;\r\n\r\nexport default Platform;\r\n","let requestAnimFrame = (() => {\r\n  return window.requestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.oRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame ||\r\n    function (callback, element) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n})();\r\n\r\nlet randomInteger = (min, max) => {\r\n  var rand = min + Math.random() * (max + 1 - min);\r\n  rand = Math.floor(rand);\r\n  return rand;\r\n}\r\n\r\nexport {\r\n  requestAnimFrame,\r\n  randomInteger\r\n};\r\n","import config from \"./config\";\r\n\r\nfunction CanvasBackground(img, bgWidth, speed = 1, x = 0, y = 0) {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    canvas.width = bgWidth;\r\n    canvas.height = img.height;\r\n    this.image = canvas;\r\n    this.dx = x;\r\n    this.dy = y;\r\n    this.x = 0;\r\n\r\n    this.update = () => {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        this.x -= speed * config.speed;\r\n\r\n        for (let posX = this.x; posX < bgWidth; posX += img.width) {\r\n            ctx.drawImage(img, posX, 0);\r\n        }\r\n    };\r\n}\r\n\r\nexport default CanvasBackground;","import Entity from './Entity';\r\nimport SpriteAnimation from '../common/SpriteAnimation';\r\nimport config from '../common/config';\r\n\r\nfunction Enemy(img, x = 0, y = 0, dx = 0, dy = 0, width, height, animationSpeed = 1) {\r\n    Entity.apply(this, arguments);\r\n    this.width = width;\r\n    this.height = height;\r\n    this.animationSpeed = animationSpeed;\r\n    this.img = (img.width > this.width || img.height > this.height)? new SpriteAnimation(this): img;\r\n}\r\n\r\nfunction getSprite() {\r\n    const spriteObj = {\r\n        dx: this.x,\r\n        dy: this.y,\r\n        image: this.image,\r\n    };\r\n    if(\"getFrame\" in this.img) {\r\n        return {...spriteObj, ...this.img.getFrame(this.animationSpeed * config.speed)};\r\n    }\r\n    return spriteObj;\r\n}\r\n\r\nfunction update() {\r\n    this.move();\r\n    if(\"nextFrame\" in this.img) {\r\n        this.img.nextFrame();\r\n    }\r\n}\r\n\r\nEnemy.prototype = Object.create(Entity.prototype);\r\nEnemy.prototype.constructor = Enemy;\r\nEnemy.prototype.getSprite = getSprite;\r\nEnemy.prototype.update = update;\r\n\r\nexport default Enemy;\r\n","import Enemy from './Enemy';\r\nimport resourcesLoader from '../common/resourcesLoader';\r\nimport config from '../common/config';\r\nimport {randomInteger} from '../common/commonFunctions';\r\nimport flyingEnemy from '../../images/flyingEnemy.png';\r\nimport standingEnemy from '../../images/standingEnemy.png';\r\nimport walkingEnemy from '../../images/walkingEnemy.png';\r\n\r\nresourcesLoader.add({\r\n    flyingEnemy,\r\n    standingEnemy,\r\n    walkingEnemy\r\n});\r\n\r\nfunction EnemyFactory(bottomLine, canvasWidth) {\r\n    this.bottomLine = bottomLine;\r\n    this.canvasWidth = canvasWidth;\r\n}\r\n\r\nEnemyFactory.prototype = {\r\n    constructor: EnemyFactory,\r\n\r\n    makeWalkingEnemy() {\r\n        const img = resourcesLoader.get('walkingEnemy');\r\n        const posX = this.canvasWidth + config.walkingEnemyWidth;\r\n        const posY = this.bottomLine - config.walkingEnemyHeight;\r\n        return new Enemy(img, posX, posY, -config.walkingEnemySpeed, 0, config.walkingEnemyWidth, config.walkingEnemyHeight, config.walkingEnemyAnimationSpeed);\r\n    },\r\n    makeStandingEnemy() {\r\n        const img = resourcesLoader.get('standingEnemy');\r\n        const posX = this.canvasWidth + config.standingEnemyWidth;\r\n        const posY = this.bottomLine - config.standingEnemyHeight;\r\n        return new Enemy(img, posX, posY, -config.standingEnemySpeed, 0, config.standingEnemyWidth, config.standingEnemyHeight);\r\n    },\r\n    makeFlyingEnemy() {\r\n        const img = resourcesLoader.get('flyingEnemy');\r\n        const posX = this.canvasWidth + config.flyingEnemyWidth;\r\n        const posY = randomInteger(0, this.bottomLine - config.flyingEnemyHeight);\r\n        return new Enemy(img, posX, posY, -config.flyingEnemySpeed, 0, config.flyingEnemyWidth, config.flyingEnemyHeight, config.flyingEnemyAnimationSpeed);\r\n    }\r\n}\r\n\r\nexport default EnemyFactory;","import '../styles/index.scss';\r\nimport resourcesLoader from './common/resourcesLoader';\r\nimport Player from './entities/Player';\r\nimport Bullet from './entities/Bullet';\r\nimport Platform from './entities/Platform';\r\nimport {requestAnimFrame, randomInteger} from './common/commonFunctions';\r\nimport CanvasBackground from './common/CanvasBackground';\r\nimport mouseWatcher from './common/mouseWatcher';\r\nimport config from './common/config';\r\nimport EnemyFactory from './entities/EnemyFactory';\r\n\r\nimport smoke from '../images/smoke.png';\r\nimport sky from '../images/sky.png';\r\nimport city from '../images/city.png';\r\nimport playerImg from '../images/player.png';\r\nimport platform from '../images/platform.png';\r\nimport gun from '../images/gun.png';\r\nimport bullet from '../images/bullet.png';\r\n\r\nlet canvas;\r\nlet ctx;\r\nlet last;\r\nlet step = 1 / 60;\r\nlet dt = 0;\r\nlet now;\r\nlet lastScore = 0;\r\nlet score = 0;\r\nlet maxScore = 0;\r\nlet scoreEl;\r\nlet maxScoreEl;\r\nlet gameOverEl;\r\nlet canvasWidth;\r\nlet canvasHeight;\r\n\r\nlet isPause = false;\r\nlet isGameOver = false;\r\nlet backgrounds;\r\nlet lastShot = 0;\r\nlet lastEnemyAppearance = 0;\r\nlet player;\r\nlet enemyFactory;\r\nlet bullets;\r\nlet platforms;\r\nlet enemies;\r\nconst defaultSpeed = config.speed;\r\n\r\nresourcesLoader.add({\r\n    smoke,\r\n    sky,\r\n    city,\r\n    player: playerImg,\r\n    platform,\r\n    gun,\r\n    bullet\r\n});\r\nresourcesLoader.onReady(init);\r\n\r\nfunction init() {\r\n    let lsValue = localStorage.getItem(\"maxScore\");\r\n    if (lsValue !== null) {\r\n        maxScore = lsValue;\r\n    }\r\n   \r\n    canvas = document.getElementById('canvas');\r\n    ctx = canvas.getContext('2d');\r\n    scoreEl = document.getElementById('current-score');\r\n    maxScoreEl = document.getElementById('max-score');\r\n    gameOverEl = document.getElementById('game-over');\r\n    maxScoreEl.textContent = maxScore;\r\n\r\n    canvas.width = document.documentElement.clientWidth - 10;\r\n    canvas.height =  document.documentElement.clientHeight >= 100? document.documentElement.clientHeight - 100 : document.documentElement.clientHeight;\r\n    canvasWidth = canvas.width;\r\n    canvasHeight = canvas.height;\r\n    \r\n    backgrounds = [\r\n        new CanvasBackground(resourcesLoader.get('smoke'), canvasWidth, config.smokeBackgoundSpeed, 0, canvasHeight - resourcesLoader.get('smoke').height),\r\n        new CanvasBackground(resourcesLoader.get('sky'), canvasWidth, config.skyBackgoundSpeed),\r\n        new CanvasBackground(resourcesLoader.get('city'), canvasWidth, config.cityBackgoundSpeed, 0, canvasHeight - resourcesLoader.get('city').height)\r\n    ];\r\n    enemyFactory = new EnemyFactory(canvasHeight - config.platformHeight, canvasWidth);\r\n\r\n    last = performance.now();\r\n    assignHandlers();\r\n    reset();\r\n}\r\n\r\nfunction assignHandlers () {\r\n    window.onbeforeunload = function () {\r\n        localStorage.setItem(\"maxScore\", maxScore);\r\n    };\r\n\r\n    const exitBtn = document.getElementById('exit');\r\n    exitBtn.onclick= () => {\r\n        window.close();\r\n    }\r\n\r\n    const pauseBtn = document.getElementById('pause');\r\n    pauseBtn.onclick = (e) => {\r\n        if (isPause) {\r\n            e.target.textContent = 'pause';\r\n        } else {\r\n            e.target.textContent = 'continue';\r\n        }\r\n        isPause = !isPause;\r\n        e.target.blur();\r\n    }\r\n\r\n    const playAgainBtn = document.getElementById('play-again');\r\n    playAgainBtn.onclick = () => {\r\n        gameOverEl.classList.toggle('hidden');\r\n        reset();\r\n    }\r\n\r\n    const newGameBtn = document.getElementById(\"new-game\");\r\n    newGameBtn.onclick = () => {\r\n        const menu = document.getElementById(\"menu\");\r\n        menu.classList.toggle('hidden');\r\n        engine();\r\n    }\r\n}\r\n\r\nfunction engine() {\r\n    now = performance.now();\r\n    if (!isPause && !isGameOver) {\r\n        dt = dt + Math.min(1, (now - last) / 1000);\r\n\r\n        while (dt > step) {\r\n            dt = dt - step;\r\n            update();\r\n        }\r\n        render();\r\n    }\r\n    last = now;\r\n    requestAnimFrame(engine);\r\n}\r\n\r\nfunction createPlatforms() {\r\n    let x = 0;\r\n    let y = canvasHeight - config.platformHeight;\r\n    for (let i = 0, length = Math.floor(canvasWidth / config.platformWidth) + 2; i < length; i++) {\r\n        platforms[i] = new Platform(resourcesLoader.get('platform'), x, y);\r\n        x += config.platformWidth;\r\n    }\r\n}\r\n\r\nfunction updateBullets() {\r\n    for (let i = 0; i < bullets.length; i++) {\r\n        bullets[i].update();\r\n        if (bullets[i].x > canvasWidth || bullets[i].y > canvasHeight || bullets[i].x < 0 || bullets[i].y < 0 || bullets[i].y > platforms[0].y) {\r\n            bullets.splice(i, 1);\r\n            i--;\r\n        }\r\n    }\r\n\r\n    if (mouseWatcher.isClick && performance.now() - lastShot > config.shotInterval) {\r\n        const angle = player.gun.angle;\r\n        const x = player.gun.x + Math.cos(angle) * player.gun.width;\r\n        const y = player.gun.y + Math.sin(angle) * player.gun.height;\r\n\r\n        bullets.push(new Bullet(resourcesLoader.get('bullet'), x, y, Math.cos(angle) * config.bulletSpeed, Math.sin(angle) * config.bulletSpeed, angle));\r\n\r\n        lastShot = performance.now();\r\n    }\r\n}\r\n\r\nfunction updateEnemies() {\r\n    if (performance.now() - lastEnemyAppearance > config.enemyAppearanceInterval / config.speed) {\r\n        switch (randomInteger(1, 3)) {\r\n            case 1:\r\n                enemies.push(enemyFactory.makeFlyingEnemy());\r\n                break;\r\n            case 2:\r\n                enemies.push(enemyFactory.makeStandingEnemy());\r\n                break;\r\n            case 3:\r\n                enemies.push(enemyFactory.makeWalkingEnemy());\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        lastEnemyAppearance = performance.now();\r\n    }\r\n\r\n    for (let i = 0; i < enemies.length; i++) {\r\n        enemies[i].update();\r\n        if (enemies[i].x < -enemies[i].width || enemies[i].y < -enemies[i].height) {\r\n            enemies.splice(i, 1);\r\n            i--;\r\n        }\r\n    }\r\n}\r\n\r\nfunction updatePlatforms() {\r\n    for (let i = 0; i < platforms.length; i++) {\r\n        platforms[i].update();\r\n    }\r\n\r\n    if (platforms[0].x <= -config.platformWidth) {\r\n        platforms.shift();\r\n        platforms.push(new Platform(resourcesLoader.get('platform'), platforms[0].x + config.platformWidth * platforms.length, canvasHeight - config.platformHeight));\r\n    }\r\n}\r\n\r\nfunction checkCollision() {\r\n    for (let i = 0; i < enemies.length; i++) {\r\n        for (let j = 0; j < bullets.length; j++) {\r\n            if (enemies[i].getMinDistance(bullets[j]) < Math.max(enemies[i].width, enemies[i].height) / 2 + bullets[j].width) {\r\n                enemies[i].dy = -config.enemyInParadiseSpeed;\r\n                enemies[i].dx = 0;\r\n                bullets.splice(j, 1);\r\n                j--;\r\n                score++;\r\n            }\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < platforms.length; i++) {\r\n        if (player.getMinDistance(platforms[i]) <= player.height / 2 + config.platformWidth / 2) {\r\n            player.isJump = false;\r\n            player.y = platforms[i].y - player.height;\r\n            player.dy = 0;\r\n        }\r\n    }\r\n    \r\n    for (let i = 0; i < enemies.length; i++) {\r\n        if (player.getMinDistance(enemies[i]) < player.width / 3 + enemies[i].width / 3) {\r\n            finishGame();\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\nfunction finishGame() {\r\n    isGameOver = true;\r\n    gameOverEl.classList.toggle('hidden');\r\n}\r\n\r\nfunction update(dt) {\r\n    player.update();\r\n    for (let i = 0; i < backgrounds.length; i++) {\r\n        backgrounds[i].update();\r\n    }\r\n    config.speed += config.gameAcceleration;\r\n    updateEnemies();\r\n    updateBullets();\r\n    updatePlatforms();\r\n    checkCollision();\r\n}\r\n\r\nfunction render() {\r\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n    for (let i = 0; i < backgrounds.length; i++) {\r\n        renderEntity(backgrounds[i]);\r\n    }\r\n\r\n    renderEntities(bullets);\r\n    renderEntity(player.getSprite());\r\n    renderEntity(player.getGunSprite());\r\n    renderEntities(enemies);\r\n    renderEntities(platforms);\r\n    renderScore();\r\n}\r\n\r\nfunction renderScore() {\r\n    if (score != lastScore) {\r\n        if (maxScore < score) {\r\n            maxScore = score;\r\n        }\r\n        scoreEl.textContent = score;\r\n        maxScoreEl.textContent = maxScore;\r\n        lastScore = score;\r\n    }\r\n}\r\n\r\nfunction renderEntities(entities) {\r\n    for (let i = 0; i < entities.length; i++) {\r\n        renderEntity(entities[i].getSprite());\r\n    }\r\n}\r\n\r\nfunction renderEntity(entity) {\r\n    if (entity === undefined) {\r\n        return;\r\n    }\r\n\r\n    const {\r\n        image,\r\n        sx,\r\n        sy,\r\n        sWidth,\r\n        sHeight,\r\n        dx,\r\n        dy,\r\n        dWidth,\r\n        dHeight,\r\n        angle,\r\n    } = entity;\r\n    ctx.save();\r\n    let offsetX;\r\n    let offsetY;\r\n    if (angle !== undefined) {\r\n        offsetX = dx;\r\n        offsetY = dy;\r\n        ctx.translate(offsetX, offsetY);\r\n        ctx.rotate(angle);\r\n        ctx.translate(-offsetX, -offsetY);\r\n    }\r\n\r\n    if (sx !== undefined) {\r\n        ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n    } else {\r\n        if (dWidth !== undefined) {\r\n            ctx.drawImage(image, dx, dy, dWidth, dHeight);\r\n        } else {\r\n            ctx.drawImage(image, dx, dy);\r\n        }\r\n    }\r\n\r\n    ctx.restore();\r\n}\r\n\r\nfunction reset() {\r\n    isPause = false;\r\n    isGameOver = false;\r\n    lastShot = 0;\r\n    lastEnemyAppearance = 0;\r\n    player = new Player(canvasWidth, resourcesLoader.get('gun'), resourcesLoader.get('player'), 0);\r\n    player.y = canvasHeight - config.platformHeight;\r\n    enemies = [];\r\n    bullets = [];\r\n    platforms = [];\r\n    createPlatforms();\r\n    score = 0;\r\n    last = performance.now();\r\n    config.speed = defaultSpeed;\r\n}"],"sourceRoot":""}